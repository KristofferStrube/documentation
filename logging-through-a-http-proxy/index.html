<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,100,700" media="all">
        
        
        
        <link rel="shortcut icon" href="../favicon.ico">
        

	<title>Logging through a HTTP proxy - elmah.io Documentation</title>

        <link href="/../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="/../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="/../css/base.css" rel="stylesheet">
        <link href="/../style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        <script src="/js/search.js"></script>
        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-42575460-4', 'docs.elmah.io');
            ga('send', 'pageview');
        </script>
        
        <script src="/../js/jquery-1.10.2.min.js"></script>
    </head>

    <body>
		
        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="https://elmah.io/">elmah.io</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                <li><a href="https://elmah.io/features/" id="NavFeatures">Features</a></li>
                <li><a href="https://elmah.io/about/" id="NavAbout">About</a></li>
                <li><a href="https://elmah.io/pricing/" id="NavPricing">Pricing</a></li>
                <li><a href="http://docs.elmah.io/" id="NavDocs">Docs</a></li>
                <li><a href="http://blog.elmah.io/" id="NavBlog">Blog</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                    <li class="visible-xs">
                        <a href="/authentication/redirect/Twitter" class="pull-left"><span class="fa fa-twitter icon-2x"></span></a>
                        <a href="/authentication/redirect/Facebook" class="pull-left"><span class="fa fa-facebook icon-2x"></span></a>
                        <a href="/authentication/redirect/Google" class="pull-left"><span class="fa fa-google-plus icon-2x"></span></a>
                        <a href="/authentication/redirect/windowslive" class="pull-left"><span class="fa fa-windows icon-2x"></span></a>
                    </li>
                    <li class="hidden-xs"><span class="navbar-text text-muted">Sign in:</span></li>
                    <li class="hidden-xs"><a href="https://elmah.io//authentication/redirect/Twitter"><span class="fa fa-twitter"></span></a></li>
                    <li class="hidden-xs"><a href="https://elmah.io//authentication/redirect/Facebook"><span class="fa fa-facebook"></span></a></li>
                    <li class="hidden-xs"><a href="https://elmah.io//authentication/redirect/Google"><span class="fa fa-google-plus"></span></a></li>
                    <li class="hidden-xs"><a href="https://elmah.io//authentication/redirect/windowslive"><span class="fa fa-windows"></span></a></li>
                </ul>
        </div>
    </div>
</div>

        <div class="container">
            
		
            <div class="col-md-3"><div class="bs-sidebar hidden-print" role="complementary">
	
    <div class="icon-in-input">
        <input type="text" class="form-control" id="search" onclick="initSearchFunctionality()"/>
        <button type="button" class="fa fa-search"></button>
    </div>
    <h4 id="searchResultHeader">Search result</h4>
    <div id="searchResult">
    <ul class="nav bs-sidenav">
    </ul>
    <hr/>
    </div>
	
    
			<h4 href="#" >Docs</h4>
			<ul class="nav bs-sidenav">
			
				<li >
					<a href="..">Home</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" >Installation</h4>
			<ul class="nav bs-sidenav">
			
				<li >
					<a href="../logging-to-elmah-io-from-elmah/">Logging from ELMAH</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-aspnet-mvc/">Logging from ASP.NET MVC</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-web-api/">Logging from Web API</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-serilog/">Logging from Serilog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-log4net/">Logging from log4net</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-nlog/">Logging from NLog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-nancy/">Logging from Nancy</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-servicestack/">Logging from ServiceStack</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-blogengine-net/">Logging from BlogEngine.NET</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-umbraco/">Logging from Umbraco</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-jsnlog/">Logging from JSNLog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-console-application/">Logging from Console</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-sitefinity/">Logging from Sitefinity</a>
				</li>
			
				<li >
					<a href="../configure-elmah-io-manually/">Configure elmah.io manually</a>
				</li>
			
				<li >
					<a href="../configure-elmah-io-from-code/">Configure elmah.io from code</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" >Apps</h4>
			<ul class="nav bs-sidenav">
			
				<li >
					<a href="../elmah-io-apps-slack/">Slack</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-hipchat/">HipChat</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-github/">GitHub</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-botbuster/">BotBuster</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" >Help</h4>
			<ul class="nav bs-sidenav">
			
				<li >
					<a href="../integrate-elmah-io-with-slack/">Integrating with Slack manually</a>
				</li>
			
				<li >
					<a href="../integrate-elmah-io-with-hipchat/">Integrating with HipChat manually</a>
				</li>
			
				<li >
					<a href="../integrate-elmah-io-with-zapier/">Integrating with Zapier</a>
				</li>
			
				<li >
					<a href="../logging-custom-data/">Logging custom data</a>
				</li>
			
				<li >
					<a href="../logging-errors-programmatically/">Logging errors programmatically</a>
				</li>
			
				<li class="active">
					<a href="./">Logging through a HTTP proxy</a>
				</li>
			
				<li >
					<a href="../logging-to-multiple-elmah-logs/">Logging to multiple logs</a>
				</li>
			
				<li >
					<a href="../remove-sensitive-form-data/">Remove sensitive form data</a>
				</li>
			
				<li >
					<a href="../use-extended-user-details-without-email-as-id/">Use Extended User Details without Email as Id</a>
				</li>
			
				<li >
					<a href="../use-multiple-logs-for-different-environments/">Use multiple logs for different environments</a>
				</li>
			
				<li >
					<a href="../using-the-elmah-io-extension-for-visual-studio/">Using the elmah.io extension for Visual Studio</a>
				</li>
			
				<li >
					<a href="../handle-elmah-io-downtime/">Handle elmah.io downtime</a>
				</li>
			
				<li >
					<a href="../adding-version-information/">Adding version information</a>
				</li>
			
				<li >
					<a href="../elmah-and-custom-errors/">ELMAH and custom errors</a>
				</li>
			
			</ul>
	
</div></div>
            <div class="col-md-9" role="main" style="border-left: 1px solid #eee;">

<h1 id="logging-through-a-http-proxy">Logging through a HTTP proxy</h1>
<p>You may find yourself in a situation, where your production web servers isn’t allowed HTTP requests towards the public internet. This also impacts the elmah.io client, which requires access to the URL https://elmah.io/api. A popular choice of implementing this kind of restriction nowadays, seem to be through a HTTP proxy like squid.</p>
<p>Luckily the elmah.io client supports proxy configuration out of the box. Let’s look at how to configure a HTTP proxy through <code>web.config</code>:</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;configuration&gt;
  &lt;configSections&gt;
    &lt;sectionGroup name=&quot;elmah&quot;&gt;
      &lt;section name=&quot;security&quot; requirePermission=&quot;false&quot; type=&quot;Elmah.SecuritySectionHandler, Elmah&quot; /&gt;
      &lt;section name=&quot;errorLog&quot; requirePermission=&quot;false&quot; type=&quot;Elmah.ErrorLogSectionHandler, Elmah&quot; /&gt;
      &lt;section name=&quot;errorMail&quot; requirePermission=&quot;false&quot; type=&quot;Elmah.ErrorMailSectionHandler, Elmah&quot; /&gt;
      &lt;section name=&quot;errorFilter&quot; requirePermission=&quot;false&quot; type=&quot;Elmah.ErrorFilterSectionHandler, Elmah&quot; /&gt;
    &lt;/sectionGroup&gt;
  &lt;/configSections&gt;
  &lt;elmah&gt;
    &lt;security allowRemoteAccess=&quot;false&quot; /&gt;
    &lt;errorLog type=&quot;Elmah.Io.ErrorLog, Elmah.Io&quot; LogId=&quot;59AA232A-F80A-4414-801D-F305D8AE55D7&quot; /&gt;
  &lt;/elmah&gt;
  &lt;system.net&gt;
    &lt;defaultProxy&gt;
      &lt;proxy usesystemdefault=&quot;True&quot; proxyaddress=&quot;http://192.168.0.1:3128&quot; bypassonlocal=&quot;False&quot;/&gt;
    &lt;/defaultProxy&gt;
  &lt;/system.net&gt;
&lt;/configuration&gt;
</code></pre>

<p>The above example is of course greatly simplified.</p>
<p>The elmah.io client automatically picks up the <code>defaultProxy</code> configuration through the <code>system.net</code> element. <code>defaultProxy</code> tunnels every request from your server, including requests to elmah.io, through the proxy located on 192.18.0.1 port 3128 (or whatever IP/hostname and port your are using).</p>


<br/><br/>
<h2>Comments</h2>
<hr/>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'elmahioblog';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div>
		
		
			
        </div>

    <footer class="col-md-12">
        
    </footer>


        <script src="/../js/bootstrap-3.0.3.min.js"></script>
        <script src="/../js/highlight.pack.js"></script>
        <script src="/../js/base.js"></script>
    </body>
</html>