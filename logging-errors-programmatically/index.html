<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,100,700" media="all">
        
        
        
        <link rel="shortcut icon" href="../favicon.ico">
        

	<title>Logging errors programmatically - elmah.io Documentation</title>

        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="https://elmah.io/">elmah.io</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
                <li><a href="https://elmah.io/features/" id="NavFeatures">Features</a></li>
                <li><a href="https://elmah.io/about/" id="NavAbout">About</a></li>
                <li><a href="https://elmah.io/pricing/" id="NavPricing">Pricing</a></li>
                <li><a href="http://docs.elmah.io/" id="NavDocs">Docs</a></li>
                <li><a href="http://blog.elmah.io/" id="NavBlog">Blog</a></li>
            </ul>

        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix" role="complementary">
	
		<h4 href="#" >Installation</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../logging-to-elmah-io-from-elmah/">Logging from ELMAH</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-web-api/">Logging from Web API</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-serilog/">Logging from Serilog</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-log4net/">Logging from log4net</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-nlog/">Logging from NLog</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-nancy/">Logging from Nancy</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-servicestack/">Logging from ServiceStack</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-blogengine-net/">Logging from BlogEngine.NET</a>
			</li>
		
			<li >
				<a href="../logging-to-elmah-io-from-jsnlog/">Logging from JSNLog</a>
			</li>
		
			<li >
				<a href="../configure-elmah-io-from-code/">Configure elmah.io from code</a>
			</li>
		
		</ul>
	
		<h4 href="#" >Integrations</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../integrate-elmah-io-with-slack/">Slack</a>
			</li>
		
			<li >
				<a href="../integrate-elmah-io-with-hipchat/">HipChat</a>
			</li>
		
			<li >
				<a href="../integrate-elmah-io-with-zapier/">Zapier</a>
			</li>
		
		</ul>
	
		<h4 href="#" >Help</h4>
		<ul class="nav bs-sidenav">
		
			<li >
				<a href="../logging-custom-data/">Logging custom data</a>
			</li>
		
			<li class="active">
				<a href="./">Logging errors programmatically</a>
			</li>
		
			<li >
				<a href="../logging-through-a-http-proxy/">Logging through a HTTP proxy</a>
			</li>
		
			<li >
				<a href="../logging-to-multiple-elmah-logs/">Logging to multiple logs</a>
			</li>
		
			<li >
				<a href="../remove-sensitive-form-data/">Remove sensitive form data</a>
			</li>
		
			<li >
				<a href="../use-extended-user-details-without-email-as-id/">Use Extended User Details without Email as Id</a>
			</li>
		
			<li >
				<a href="../use-multiple-logs-for-different-environments/">Use multiple logs for different environments</a>
			</li>
		
		</ul>
	
</div></div>
            <div class="col-md-9" role="main">

<h1 id="logging-errors-programmatically">Logging errors programmatically</h1>
<p>So you’ve setup a shiny new ELMAH log and all of your un-handled errors are logged to ELMAH. Now you’re wondering: “How do I log my handled errors to ELMAH programmatically?”</p>
<p>You are in luck! ELMAH provides a nice API to do just that through error signaling. Consider the following code:</p>
<pre><code class="csharp">try
{
    int i = 0;
    int result = 42 / i;
}
catch (DivideByZeroException e)
{
    // What to do?
}
</code></pre>

<p>Obviously an exception is thrown when trying to divide by zero, but what if we want to catch (and log) that exception instead of throwing it back through the call stack? With ELMAH’s <code>ErrorSignal</code> class we can log the error:</p>
<pre><code class="csharp">try
{
    int i = 0;
    int result = 42 / i;
}
catch (DivideByZeroException e)
{
    ErrorSignal.FromCurrentContext().Raise(e);
}
</code></pre>

<p>We call the static method <code>FromCurrentContext</code> on the <code>ErrorSignal</code> class, which returns a new object for doing the actual logging. Logging happens through the Raise method, which logs the exception to the configured ELMAH storage endpoint.</p>
<p>In the example above, I use the <code>FromCurrentContext</code> helper to create a new instance of <code>ErrorSignal</code>. ELMAH also works outside the context of a webserver and in this case, you would simply use the default logger with <code>null</code> as the http context:</p>
<pre><code class="csharp">ErrorLog.GetDefault(null).Log(new Error(e));
</code></pre></div>
        </div>

    <footer class="col-md-12">
        
    </footer>


        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>