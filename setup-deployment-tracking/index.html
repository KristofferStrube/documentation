<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,100,700" media="all">
        
        <meta name="author" content="Thomas Ardal">
        <link rel="canonical" href="https://docs.elmah.io/setup-deployment-tracking/">
        <link rel="shortcut icon" href="https://docs.elmah.io/favicon.ico">

		<title>Set Up Deployment Tracking | elmah.io</title>


        <link href="../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../style.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        <script src="/js/search.js"></script>
        <script src="/../js/jquery-1.10.2.min.js"></script>
        <script src="/../js/bootstrap-3.0.3.min.js"></script>
        <link href="https://elmah.io/content/elmah.io.front/critical.css" rel="stylesheet">
        <link href="https://elmah.io/content/elmah.io.front/elmahio.css" rel="stylesheet">
        <link href="https://elmah.io/content/elmah.io.front/docs.css" rel="stylesheet">
        <link href="/../css/base.css" rel="stylesheet">

		<meta name="twitter:card" content="summary_large_image">
		<meta name="twitter:site" content="@elmah_io">
		<meta name="twitter:creator" content="@elmah_io">
		<meta name="twitter:title" content="Set Up Deployment Tracking">
		
		
		<meta property="og:title" content="Set Up Deployment Tracking">
		
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://docs.elmah.io/setup-deployment-tracking/">
		
		<meta property="fb:app_id" content="218008838347208" />

		</head>

    <body class="readable body-docs">
<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WKDV74"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WKDV74');</script>
<!-- End Google Tag Manager -->
		
        <nav class="navbar navbar-default navbar-static-top" role="navigation" id="headercontainer">
        <div class="container">
    <div class="navbar-header">
        <!-- .navbar-toggle is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://elmah.io/">
            <img alt="elmah.io" width="30" id="svglogo" src="data:image/png;base64,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">
        </a>
    </div>
    <div class="collapse navbar-collapse navbar-responsive-collapse">
        <ul class="nav navbar-nav">
            <li><a href="https://elmah.io/features/" id="NavFeatures">Features</a></li>
            <li><a href="https://elmah.io/about/" id="NavAbout">About</a></li>
            <li><a href="https://elmah.io/pricing/" id="NavPricing">Pricing</a></li>
            <li><a href="https://docs.elmah.io/" id="NavDocs">Docs</a></li>
            <li><a href="https://blog.elmah.io/" id="NavBlog">Blog</a></li>
        </ul>
            <ul class="nav navbar-nav navbar-right">
                <li class="visible-xs">
                    <a href="https://elmah.io/authentication/redirect/Twitter" class="pull-left"><span class="fa fa-twitter icon-2x"></span></a>
                    <a href="https://elmah.io/authentication/redirect/Facebook" class="pull-left"><span class="fa fa-facebook icon-2x"></span></a>
                    <a href="https://elmah.io/authentication/redirect/Google" class="pull-left"><span class="fa fa-google-plus icon-2x"></span></a>
                    <a href="/authentication/redirect/windowslive" class="pull-left"><span class="fa fa-windows icon-2x"></span></a>
                </li>
                <li class="hidden-xs"><span class="navbar-text text-muted">Sign in:</span></li>
                <li class="hidden-xs"><a href="https://elmah.io/authentication/redirect/Twitter"><span class="fa fa-twitter"></span></a></li>
                <li class="hidden-xs"><a href="https://elmah.io/authentication/redirect/Facebook"><span class="fa fa-facebook"></span></a></li>
                <li class="hidden-xs"><a href="https://elmah.io/authentication/redirect/Google"><span class="fa fa-google-plus"></span></a></li>
                <li class="hidden-xs"><a href="https://elmah.io/authentication/redirect/windowslive"><span class="fa fa-windows"></span></a></li>
            </ul>
    </div>
</div>

    </nav>

<div class="section-hero"></div>

        <div class="section">
        <div class="container">
            
		
        

            <div class="row">
        
            <div class="col-md-3 toc-left"><div class="bs-sidebar hidden-print" role="complementary">
    <div class="row">
        <div class="col-sm-9 col-md-12">
            <div class="icon-in-input">
                <input type="text" class="form-control" id="search" onclick="initSearchFunctionality()" placeholder="Search..."/>
                <button type="button" class="fa fa-search"></button>
            </div>
        </div>
        <div class="col-sm-3 hidden-md"><button class="btn btn-default btn-block btn-show-all-posts hidden-lg">Show all</button></div>
    </div>
    <hr/>
    <h4 id="searchResultHeader">Search result</h4>
    <div id="searchResult">
    <ul class="nav bs-sidenav">
    </ul>
    <hr/>
    </div>
    <div class="bs-sidebar-hidden-on-mobile">
	
    
			<h4 href="#" class="bs-sidenav-header">Docs</h4>
			<ul class="nav bs-sidenav bs-sidenav-group">
			
				<li >
					<a href="..">Home</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" class="bs-sidenav-header">Installation</h4>
			<ul class="nav bs-sidenav bs-sidenav-group">
			
				<li >
					<a href="../logging-to-elmah-io-from-elmah/">Logging from ELMAH</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-aspnet-mvc/">Logging from ASP.NET MVC</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-web-api/">Logging from Web API</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-aspnet-core/">Logging from ASP.NET Core</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-serilog/">Logging from Serilog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-log4net/">Logging from log4net</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-nlog/">Logging from NLog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-microsoft-extensions-logging/">Logging from Microsoft.Extensions.Logging</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-logary/">Logging from Logary</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-nancy/">Logging from Nancy</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-servicestack/">Logging from ServiceStack</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-blogengine-net/">Logging from BlogEngine.NET</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-umbraco/">Logging from Umbraco</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-jsnlog/">Logging from JSNLog</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-console-application/">Logging from Console</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-system-diagnostics/">Logging from System.Diagnostics</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-powershell/">Logging from PowerShell</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-sitefinity/">Logging from Sitefinity</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-express/">Logging from Express</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-wcf/">Logging from WCF</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-azure-webjobs/">Logging from Azure WebJobs</a>
				</li>
			
				<li >
					<a href="../logging-to-elmah-io-from-azure-functions/">Logging from Azure Functions</a>
				</li>
			
				<li >
					<a href="../configure-elmah-io-manually/">Configure elmah.io manually</a>
				</li>
			
				<li >
					<a href="../configure-elmah-io-from-code/">Configure elmah.io from code</a>
				</li>
			
				<li >
					<a href="../logging-through-a-http-proxy/">Logging through a HTTP proxy</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" class="bs-sidenav-header">Apps</h4>
			<ul class="nav bs-sidenav bs-sidenav-group">
			
				<li >
					<a href="../elmah-io-apps-slack/">Slack</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-hipchat/">HipChat</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-github/">GitHub</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-bitbucket/">Bitbucket</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-jira/">Jira</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-teams/">Microsoft Teams</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-botbuster/">BotBuster</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-ipfilter/">IP Filter</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-mailman/">Mailman</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-webclient/">WebClient</a>
				</li>
			
				<li >
					<a href="../elmah-io-apps-youtrack/">YouTrack</a>
				</li>
			
				<li >
					<a href="../creating-apps-for-elmah-io/">Creating apps for elmah.io</a>
				</li>
			
			</ul>
	
    
			<h4 href="#" class="bs-sidenav-header">Help</h4>
			<ul class="nav bs-sidenav bs-sidenav-group">
			
				<li >
					<a href="../logging-custom-data/">Logging custom data</a>
				</li>
			
				<li >
					<a href="../logging-errors-programmatically/">Logging errors programmatically</a>
				</li>
			
				<li >
					<a href="../logging-to-multiple-elmah-logs/">Logging to multiple logs</a>
				</li>
			
				<li >
					<a href="../remove-sensitive-form-data/">Remove sensitive form data</a>
				</li>
			
				<li class="active">
					<a href="./">Set Up Deployment Tracking</a>
				</li>
			
				<li >
					<a href="../managing-organisations-and-users/">Managing Organisations and Users</a>
				</li>
			
				<li >
					<a href="../handle-elmah-io-downtime/">Handle elmah.io downtime</a>
				</li>
			
				<li >
					<a href="../use-extended-user-details-without-email-as-id/">Use Extended User Details without Email as Id</a>
				</li>
			
				<li >
					<a href="../use-multiple-logs-for-different-environments/">Use multiple logs for different environments</a>
				</li>
			
				<li >
					<a href="../adding-version-information/">Adding version information</a>
				</li>
			
				<li >
					<a href="../include-filename-and-line-number-in-stacktraces/">Include filename and like number in stack traces</a>
				</li>
			
				<li >
					<a href="../elmah-and-custom-errors/">ELMAH and custom errors</a>
				</li>
			
				<li >
					<a href="../using-the-elmah-io-extension-for-visual-studio/">Using the elmah.io extension for Visual Studio</a>
				</li>
			
				<li >
					<a href="../using-the-rest-api/">Using the REST API</a>
				</li>
			
				<li >
					<a href="../creating-rules-to-perform-actions-on-messages/">Creating Rules to Perform Actions on Messages</a>
				</li>
			
				<li >
					<a href="../query-messages-using-full-text-search/">Query messages using full-text search</a>
				</li>
			
				<li >
					<a href="../where-is-my-log-id/">Where is my log ID</a>
				</li>
			
				<li >
					<a href="../where-is-my-api-key/">Where is my API key</a>
				</li>
			
				<li >
					<a href="../integrate-elmah-io-with-slack/">Integrating with Slack manually</a>
				</li>
			
				<li >
					<a href="../integrate-elmah-io-with-hipchat/">Integrating with HipChat manually</a>
				</li>
			
				<li >
					<a href="../integrate-elmah-io-with-zapier/">Integrating with Zapier</a>
				</li>
			
			</ul>
	
    </div>
</div></div>
            <div class="col-md-9" role="main"><div class="docs-box">

<h1 id="set-up-deployment-tracking">Set Up Deployment Tracking</h1>
<div class="toc">
<ul>
<li><a href="#set-up-deployment-tracking">Set Up Deployment Tracking</a><ul>
<li><a href="#tell-elmahio-when-you-release">Tell elmah.io when you release</a><ul>
<li><a href="#manually-using-swagger-ui">Manually using Swagger UI</a></li>
<li><a href="#using-powershell">Using PowerShell</a></li>
<li><a href="#using-kudu">Using Kudu</a></li>
<li><a href="#using-octopus-deploy">Using Octopus Deploy</a></li>
<li><a href="#using-visual-studio-team-services">Using Visual Studio Team Services</a></li>
<li><a href="#using-umbraco-cloud">Using Umbraco Cloud</a></li>
</ul>
</li>
<li><a href="#decorate-your-messages-with-a-version-number">Decorate your messages with a version number</a></li>
<li><a href="#versioning-different-services">Versioning Different Services</a></li>
</ul>
</li>
</ul>
</div>
<p>Deployment tracking creates an overview of the different versions of your software and show you how well each version performed. With this integration in place, you will be able to see when you released and if some of your releases caused more errors than others. While most pages on elmah.io supports everything from verbose to fatal messages, the context on deployment tracking is around warnings and errors.</p>
<p>To set up deployment tracking, you will need to tell elmah.io when you release, using our REST API or one of the integrations. Deployments are as default created on all of your logs, but this can be tweaked. More about this later.</p>
<h2 id="tell-elmahio-when-you-release">Tell elmah.io when you release</h2>
<p>When you create a release of your software either manually or with the help from a tool like Octopus, you need to tell elmah.io about it. The <a href="https://api.elmah.io/swagger/ui/index">elmah.io REST API v3</a>, provides an endpoint named <code>deployments</code>, which you can call when creating releases. After calling the endpoint, all new messages to your logs, will automatically be decorated with the most recent version number.</p>
<h3 id="manually-using-swagger-ui">Manually using Swagger UI</h3>
<p>If you release your software manually, creating the new release manually is easy using Swagger UI. Swagger UI is a graphical client for calling a Swagger enabled endpoint (much like Postman). Navigate to <a href="https://api.elmah.io/swagger/ui/index">https://api.elmah.io/swagger/ui/index</a>, expand the <em>Deployments</em> node and click the POST request:</p>
<p><img alt="Deployments POST" src="../images/deployments_post.png" /></p>
<p>To create the release, input your API key (<a href="https://docs.elmah.io/where-is-my-api-key/">Where is my API key?</a>) in the top right corner and click the JSON beneath <em>Model Schema</em>. This copies the example JSON to the deployment parameter. A minimal deployment would look like the following, but adding more information makes the experience within elmah.io even better:</p>
<pre><code class="json">{
  &quot;version&quot;: &quot;1.42.7&quot;
}
</code></pre>

<p>The version string in the example conforms to SemVer, but the content can be anything. The date of the release is automatically added if not specified in the JSON body.</p>
<p>Click the <em>Try it out!</em> button and the deployment is created.</p>
<h3 id="using-powershell">Using PowerShell</h3>
<p>If you release your software using a build or deployment server, creating the new release is easy using a bit of PowerShell. To request the <code>deployments</code> endpoint, write the following PowerShell script:</p>
<pre><code class="powershell">$version = &quot;1.42.7&quot;
$ProgressPreference = &quot;SilentlyContinue&quot;
$url = 'https://api.elmah.io/v3/deployments?api_key=API_KEY'
$body = @{
  version = $version
}
Invoke-RestMethod -Method Post -Uri $url -Body $body
</code></pre>

<p>(replace <code>API_KEY</code> with your API key found on your organization settings page)</p>
<p>In the example, a simple version string is sent to the API and elmah.io will automatically put a timestamp on that. Overriding user information and description, makes the experience within the elmah.io UI better. Pulling release notes and the name and email of the deployer, is usually available through environment variables or similar, depending on the technology used for creating the deployment.</p>
<h3 id="using-kudu">Using Kudu</h3>
<p>Kudu is the engine behind Git deployments on Microsoft Azure. To create a new elmah.io deployment every time you deploy a new app service to Azure, add a new post deployment script by navigating your browser to <code>https://yoursite.scm.azurewebsites.net</code> where <code>yoursite</code> is the name of your Azure website. Click the Debug console and navigate to <code>site\deployments\tools\PostDeploymentActions</code> (create it if it doesn't exist).</p>
<p>To create the new PowerShell file, write the following in the prompt:</p>
<pre><code class="shell">touch CreateDeployment.ps1
</code></pre>

<p>With a post deployment script running inside Kudu, we have the possibility to extract some more information about the current deployment. A full deployment PowerShell script for Kudu, would look like this:</p>
<pre><code class="powershell">$version = Get-Date -format u

(Get-Content ..\wwwroot\web.config).replace('$version', $version) | Set-Content ..\wwwroot\web.config

$ProgressPreference = &quot;SilentlyContinue&quot;

$commit = [System.Environment]::GetEnvironmentVariable(&quot;SCM_COMMIT_MESSAGE&quot;);
$commitId = [System.Environment]::GetEnvironmentVariable(&quot;SCM_COMMIT_ID&quot;);
$httpHost = [System.Environment]::GetEnvironmentVariable(&quot;HTTP_HOST&quot;);
$deployUrl = &quot;https://$httpHost/api/deployments/$commitId&quot;

$username = &quot;MY_USERNAME&quot;
$password = &quot;MY_PASSWORD&quot;
$base64AuthInfo = [Convert]::ToBase64String([Text.Encoding]::ASCII.GetBytes((&quot;{0}:{1}&quot; -f $username,$password)))

$deployInfo = Invoke-RestMethod -Method Get -Uri $deployUrl -Headers @{Authorization=(&quot;Basic {0}&quot; -f $base64AuthInfo)}

$url = 'https://api.elmah.io/v3/deployments?api_key=API_KEY'
$body = @{
  version = $version
  description = $commit
  userName = $deployInfo.author
  userEmail = $deployInfo.author_email
}

Invoke-RestMethod -Method Post -Uri $url -Body $body
</code></pre>

<p>(replace <code>MY_USERNAME</code> and <code>MY_PASSWORD</code> with your Azure deployment credentials and <code>API_KEY</code> with your elmah.io API key located on your organization settings page)</p>
<p>The script generates a new version string from the current date and time. How you want your version string looking, is really up to you. To fetch additional information about the deployment, the Kudu <code>deployments</code> endpoint is requested with the current commit id. Finally, the script creates the deployment using the elmah.io REST API.</p>
<h3 id="using-octopus-deploy">Using Octopus Deploy</h3>
<p>Notifying elmah.io of a new deployment from Octopus Deploy, is supported through a custom step template. To install and configure the template, follow the steps below:</p>
<ol>
<li>
<p>Go to the  <a href="https://library.octopusdeploy.com/step-template/actiontemplate-elmah.io-register-deployment">elmah.io - Register Deployment</a> step template on the Octopus Deploy Library.
<img alt="Octopus Deploy Library" src="../images/octopus_deploy_library.png" /></p>
</li>
<li>
<p>Click the <em>Copy to clipboard</em> button.</p>
</li>
<li>
<p>Click <em>Library</em> in the header on your Octopus Deploy instance and go to the <em>Step templates</em> tab.</p>
</li>
<li>
<p>Click the <em>Import</em> link and paste the step template copied from the Library. Then click <em>Import</em>.
<img alt="Add step template to Octopus" src="../images/add_step_template_to_octopus.png" /></p>
</li>
<li>
<p>Go to the Process tab of your project on Octopus Deploy and click the <em>Add step</em> button. The elmah.io step template is available in the bottom of the list.
<img alt="Add step template to process" src="../images/add_elmah_io_deployment_step.png" /></p>
</li>
<li>
<p>When added to the process, select <em>Octopus Server</em> in <em>Run on</em> and input your API key found on your organization settings page. Optionally input a log ID, to <a href="#versioning-different-services">support multiple services</a>.
<img alt="Save notification step" src="../images/save_notification_step.png" /></p>
</li>
</ol>
<p>And we're done. On every new deployment, Octopus Deploy will notify elmah.io</p>
<h3 id="using-visual-studio-team-services">Using Visual Studio Team Services</h3>
<p>If you are using Visual Studio Team Services, you should use our VSTS extension to notify elmah.io about new deployments. To install and configure the extension, follow the simple steps below:</p>
<ol>
<li>
<p>Go to the <a href="https://marketplace.visualstudio.com/items?itemName=elmahio.deploy-tasks">elmah.io Deployment Tasks extension</a> on the Visual Studio Marketplace and click <em>Install</em> (log in if not already).
<img alt="elmah.io VSTS extension" src="../images/vsts_extension.png" /></p>
</li>
<li>
<p>Select the account to install the extension into and click <em>Confirm</em>:
<img alt="elmah.io VSTS account" src="../images/vsts_select_account.png" /></p>
</li>
<li>
<p>Go to your Visual Studio Team Services project and edit your Release definition.
<img alt="VSTS release definition" src="../images/vsts_release_definition.png" /></p>
</li>
<li>
<p>Click <em>Add tasks</em> and locate the elmah.io Deployment Notification task. Click <em>Add</em>.
<img alt="Add VSTS task" src="../images/vsts_add_task.png" /></p>
</li>
<li>
<p>Copy your API key from your organization settings page and paste it into the <em>API Key</em> field. Click <em>Save</em>.
<img alt="VSTS task added" src="../images/vsts_task_added.png" /></p>
</li>
</ol>
<p>That's it! VSTS will now notify elmah.io every time the release definition is executed. Remember to input a specific log ID as well, if you want to support <a href="#decorate-your-messages-with-a-version-number">versioning different services</a>.</p>
<h3 id="using-umbraco-cloud">Using Umbraco Cloud</h3>
<p>Umbraco Cloud uses Azure to host Umbraco websites, why supporting deployment tracking pretty much corresponds the steps specified in <a href="#using-kudu">Using Kudu</a>. Navigate to <code>https://your-umbraco-site.scm.s1.umbraco.io</code> where <code>your-umbraco-site</code> is the name of your Umbraco site. Click the Debug console link and navigate to <code>site\deployments\tools\PostDeploymentActions\deploymenthooks</code> (create it if it doesn't exist). Notice the folder <code>deploymenthooks</code>, which is required in order for your scripts to run on Umbraco Cloud.</p>
<p>Unlike Kudu, Umbraco Cloud only executes <code>cmd</code> and <code>bat</code> files. Create a new <code>cmd</code> file:</p>
<pre><code class="shell">touch create-deployment.cmd
</code></pre>

<p>with the following content:</p>
<pre><code class="shell">echo &quot;Creating elmah.io deployment&quot;

cd %POST_DEPLOYMENT_ACTIONS_DIR%

cd deploymenthooks

powershell -command &quot;. .\create-deployment.ps1&quot;
</code></pre>

<p>The script executes a PowerShell script, which we will create next:</p>
<pre><code class="shell">touch create-deployment.ps1
</code></pre>

<p>The content of the PowerShell script looks a lot like in <a href="#using-kudu">Using Kudu</a>, but with some minor tweaks to support Umbraco Cloud:</p>
<pre><code class="powershell">$version = Get-Date -format u

$ProgressPreference = &quot;SilentlyContinue&quot;

$commitId = [System.Environment]::GetEnvironmentVariable(&quot;SCM_COMMIT_ID&quot;);
$deployUrl = &quot;https://your-umbraco-site.scm.s1.umbraco.io/api/deployments/$commitId&quot;

$username = &quot;MY_USERNAME&quot;
$password = &quot;MY_PASSWORD&quot;
$logId = &quot;LOG_ID&quot;
$base64AuthInfo = [Convert]::ToBase64String([Text.Encoding]::ASCII.GetBytes((&quot;{0}:{1}&quot; -f $username,$password)))

$deployInfo = Invoke-RestMethod -Method Get -Uri $deployUrl -Headers @{Authorization=(&quot;Basic {0}&quot; -f $base64AuthInfo)}

$url = 'https://api.elmah.io/v3/deployments?api_key=API_KEY'
$body = @{
  version = $version
  description = $deployInfo.message
  userName = $deployInfo.author
  userEmail = $deployInfo.author_email
  logId = $logId
}

Invoke-RestMethod -Method Post -Uri $url -Body $body
</code></pre>

<p>Replace <code>your-umbraco-site</code> with the name of your site, <code>MY_USERNAME</code> with your Umbraco Cloud username, <code>MY_PASSWORD</code> with your Umbraco Cloud password, <code>LOG_ID</code> with the id if the elmah.io log that should contain the deployments (<a href="https://docs.elmah.io/where-is-my-log-id/">Where is my log ID?</a>) and finally <code>API_KEY</code> with your elmah.io API key, found and your organization settings page.</p>
<p>There you go. When deploying changes to your Umbraco Cloud site, a new deployment is automatically created on elmah.io.</p>
<h2 id="decorate-your-messages-with-a-version-number">Decorate your messages with a version number</h2>
<p>As default, all messages are decorated with the most recent deployment version. If you want to override this behavior, check out <a href="https://docs.elmah.io/adding-version-information/">Adding Version Information</a> for details.</p>
<h2 id="versioning-different-services">Versioning Different Services</h2>
<p>Chances are that your software consists of multiple services released independently and with different version numbers. This is a common pattern when splitting up a software system in microservices. How you choose to split your elmah.io logs are entirely up to you, but we almost always recommend having a separate log for each service. When doing so, you only want deployment tracking to show the releases from the service you are currently looking at. The problem here is that deployments on elmah.io are shown on all logs as default.</p>
<p>To make sure that only deployments related to the service you are looking at are shown, you need to decorate each deployment with the log ID where it belong. The <code>deployments</code> API support this through an optional <code>logId</code> property. If set, the new deployment is only shown on the specified log.</p>

<br/>
<p>
<small><em>This article was brought to you by the elmah.io team. elmah.io is the best error management system for .NET web applications. We monitor your website, alert you when errors start happening and help you fix errors fast.</em></small>
</p>

<p class="text-center">
<a href="https://elmah.io/pricing/" type="button" class="btn btn-lg btn-primary navbar-btn hidden-xs">See how we can help you monitor your website for crashes</a>
<a href="https://elmah.io/pricing/" type="button" class="btn btn-lg btn-primary navbar-btn visible-xs">Monitor your website</a>
</p>

<br/><br/>
<h2>Comments</h2>
<hr/>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'elmahioblog';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div>
		    
            
            </div>
		
			
        </div>
        </div>



		<div class="btn-signup-shadow-footer">
			<a href="https://elmah.io/pricing/" class="text-center btn btn-hg btn-primary btn-signup-shadow">No credit card required - Sign up now <span class="fa fa-chevron-right"></span></a>
		</div>
		<footer class="section">
			<div class="container">
				<div class="row">
					<div class="col-sm-3">
						<h5>elmah.io</h5>
						<ul class="list-unstyled">
							<li>
								<a href="https://elmah.io/features/">Features</a>
							</li>
							<li>
								<a href="https://elmah.io/pricing/">Pricing</a>
							</li>
							<li>
								<a href="https://elmah.io/goodiebag/">Goodie Bag</a>
							</li>
							<li>
								<a href="https://elmah.io/about/">About</a>
							</li>
						</ul>
					</div>
					<div class="col-sm-3">
						<h5>Help</h5>
						<ul class="list-unstyled">
							<li>
								<a href="https://elmah.io/api/">API</a>
							</li>
							<li>
								<a href="https://blog.elmah.io/">Blog</a>
							</li>
							<li>
								<a href="https://docs.elmah.io/">Docs</a>
							</li>
							<li>
								<a href="https://elmah.io/tools/">Free Tools</a> | <a href="https://elmah.io/sponsorship/">Sponsorship</a>
							</li>
						</ul>
					</div>
					<div class="col-sm-3">
						<h5>Social</h5>
						<ul class="list-unstyled">
							<li>
								<a href="https://twitter.com/elmah_io" target="_blank">Twitter</a>
							</li>
							<li>
								<a href="https://facebook.com/elmahdotio" target="_blank">Facebook</a>
							</li>
							<li>
								<a href="https://plus.google.com/+ElmahIoPlus" target="_blank">Google Plus</a>
							</li>
							<li>
								<a href="https://www.linkedin.com/company/5354798" target="_blank">LinkedIn</a>
							</li>
						</ul>
					</div>
					<div class="col-sm-3">
						<h5>Privacy</h5>
						<ul class="list-unstyled">
							<li>
								<a href="https://elmah.io/privacypolicy/">Privacy Policy</a>
							</li>
							<li>
								<a href="https://elmah.io/termsandconditions/">Terms and Conditions</a>
							</li>
							<li>
								<a href="https://elmah.io/termsofuse/">Terms of Use</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</footer>




        <script src="/../js/bootstrap-3.0.3.min.js"></script>
		<script src="/../js/bootbox.min.js"></script>
        <script src="/../js/highlight.pack.js"></script>
        <script src="/../js/base.js"></script>
		
		<script>
			window.intercomSettings = {
				app_id: "i2hhgdvj"
			};
		</script>
		<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/i2hhgdvj';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script>
    </body>
</html>