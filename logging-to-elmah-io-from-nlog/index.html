<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <meta name="author" content="Thomas Ardal">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@elmah_io">
    <meta name="twitter:creator" content="@elmah_io">
    <meta name="twitter:title" content="Logging from NLog | elmah.io">
    
    
    <meta property="og:title" content="Logging from NLog | elmah.io">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.elmah.io/logging-to-elmah-io-from-nlog/">
    
    <meta property="fb:app_id" content="218008838347208" />
    <title>Logging from NLog | elmah.io</title>
    <link rel="canonical" href="https://docs.elmah.io/logging-to-elmah-io-from-nlog/">
    <link rel="shortcut icon" href="../favicon.ico">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/fonts/font-awesome/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/highlight.css">
    <link rel="stylesheet" href="../assets/css/jquery.fancybox.min.css">
    <link rel="stylesheet" href="../assets/css/style.css">
  </head>
  <body>
    <!-- Google Tag Manager -->
    <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WKDV74"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WKDV74');</script>
    <!-- End Google Tag Manager -->

    <!-- Navigation -->
    <nav class="navbar navbar-expand-md navbar-dark bg-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="https://elmah.io/">
      <img src="../assets/img/logo.png" alt="elmah.io">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/features/">Features</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/pricing/">Pricing</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/tour/">Tour</a></li>
        <li class="nav-item"><a class="nav-link" href="https://elmah.io/about/">About</a></li>
        <li class="nav-item"><a class="nav-link" href="https://docs.elmah.io/">Docs</a></li>
        <li class="nav-item"><a class="nav-link" href="https://blog.elmah.io/">Blog</a></li>
      </ul>
      <ul class="navbar-nav navbar-nav-btn justify-content-center">
        <li class="nav-item mr-md-2 mb-2 mb-md-0"><a class="btn btn-outline-light" href="https://app.elmah.io/login/">Login</a></li>
        <li class="nav-item"><a class="btn btn-signup-trial" href="https://app.elmah.io/signup/">Free Trial</a></li>
      </ul>
    </div>
  </div>
</nav>

    <div class="container mb-5">
      <div class="row">
        <aside class="sidebar">
          <div class="sidebar-body">
            <div class="input-group mb-3">
              <div class="input-group-prepend"><span class="input-group-text"><i class="far fa-search"></i></span></div>
              <input type="text" id="search" class="form-control" placeholder="Search ..." />
            </div>
            <div id="searchList"></div>
            <hr>
            <ul class="main-nav">
              
              <li >
                <a class="li_parent" href="javascript:;">Getting Started</a>
                <ul>
                  
                  <li ><a href="..">Quick start</a></li>
                  
                  <li ><a href="../authentication/">Authentication</a></li>
                  
                  <li ><a href="../integrations-high-level-overview/">Integrations high level overview</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">ASP.NET / MVC / Web API</a>
                <ul>
                  
                  <li ><a href="../logging-to-elmah-io-from-elmah/">Logging from WebForms</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-aspnet-mvc/">Logging from ASP.NET MVC</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-web-api/">Logging from Web API</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-javascript/">Logging from JavaScript</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-a-running-website-on-azure/">Logging from a running website on Azure</a></li>
                  
                  <li ><a href="../logging-custom-data/">Logging custom data</a></li>
                  
                  <li ><a href="../logging-errors-programmatically/">Logging errors programmatically</a></li>
                  
                  <li ><a href="../logging-to-multiple-elmah-logs/">Logging to multiple logs</a></li>
                  
                  <li ><a href="../remove-sensitive-form-data/">Remove sensitive form data</a></li>
                  
                  <li ><a href="../configure-elmah-io-manually/">Configure elmah.io manually</a></li>
                  
                  <li ><a href="../configure-elmah-io-from-code/">Configure elmah.io from code</a></li>
                  
                  <li ><a href="../logging-through-a-http-proxy/">Logging through a HTTP proxy</a></li>
                  
                  <li ><a href="../use-multiple-logs-for-different-environments/">Use multiple logs for different environments</a></li>
                  
                  <li ><a href="../specify-api-key-and-log-id-through-appsettings/">Specify API key and log ID through appSettings</a></li>
                  
                  <li ><a href="../elmah-and-custom-errors/">ELMAH and custom errors</a></li>
                  
                  <li ><a href="../logging-from-a-custom-http-module/">Logging from a custom HTTP module</a></li>
                  
                  <li ><a href="../upgrade-elmah-io-from-v2-to-v3/">Upgrade elmah.io from v2 to v3</a></li>
                  
                  <li ><a href="../asp-net-troubleshooting/">ASP.NET troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">ASP.NET Core</a>
                <ul>
                  
                  <li ><a href="../logging-to-elmah-io-from-aspnet-core/">Logging from ASP.NET Core</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-microsoft-extensions-logging/">Logging from Microsoft.Extensions.Logging</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-javascript/">Logging from JavaScript</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-blazor/">Logging from Blazor</a></li>
                  
                  <li ><a href="../asp-net-core-troubleshooting/">ASP.NET Core troubleshooting</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown active">
                <a class="li_parent" href="javascript:;">Logging Frameworks</a>
                <ul>
                  
                  <li ><a href="../logging-to-elmah-io-from-serilog/">Logging from Serilog</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-log4net/">Logging from log4net</a></li>
                  
                  <li class="active"><a href="./">Logging from NLog</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-microsoft-extensions-logging/">Logging from Microsoft.Extensions.Logging</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-logary/">Logging from Logary</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-jsnlog/">Logging from JSNLog</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">CMS/Blogs</a>
                <ul>
                  
                  <li ><a href="../logging-to-elmah-io-from-umbraco/">Logging from Umbraco</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-sitefinity/">Logging from Sitefinity</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-blogengine-net/">Logging from BlogEngine.NET</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-orchard/">Logging from Orchard</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Logging from something else</a>
                <ul>
                  
                  <li ><a href="../logging-to-elmah-io-from-nancy/">Logging from Nancy</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-servicestack/">Logging from ServiceStack</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-wcf/">Logging from WCF</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-express/">Logging from Express</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-devexpress/">Logging from DevExpress (eXpressApp Framework)</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-azure-webjobs/">Logging from Azure WebJobs</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-azure-functions/">Logging from Azure Functions</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-aws-beanstalk/">Logging from AWS Beanstalk</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-aws-lambdas/">Logging from AWS Lambdas</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-entity-framework-core/">Logging from Entity Framework Core</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-console-application/">Logging from Console</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-system-diagnostics/">Logging from System.Diagnostics</a></li>
                  
                  <li ><a href="../logging-to-elmah-io-from-powershell/">Logging from PowerShell</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Apps and Integrations</a>
                <ul>
                  
                  <li ><a href="../elmah-io-apps-slack/">Slack</a></li>
                  
                  <li ><a href="../elmah-io-apps-hipchat/">HipChat</a></li>
                  
                  <li ><a href="../elmah-io-apps-github/">GitHub</a></li>
                  
                  <li ><a href="../elmah-io-apps-bitbucket/">Bitbucket</a></li>
                  
                  <li ><a href="../elmah-io-apps-jira/">Jira</a></li>
                  
                  <li ><a href="../elmah-io-apps-teams/">Microsoft Teams</a></li>
                  
                  <li ><a href="../elmah-io-apps-twilio/">Twilio</a></li>
                  
                  <li ><a href="../elmah-io-apps-botbuster/">BotBuster</a></li>
                  
                  <li ><a href="../elmah-io-apps-ipfilter/">IP Filter</a></li>
                  
                  <li ><a href="../elmah-io-apps-mailman/">Mailman</a></li>
                  
                  <li ><a href="../elmah-io-apps-webclient/">WebClient</a></li>
                  
                  <li ><a href="../elmah-io-apps-youtrack/">YouTrack</a></li>
                  
                  <li ><a href="../elmah-io-apps-gitlab/">GitLab</a></li>
                  
                  <li ><a href="../elmah-io-apps-azure-boards/">Azure Boards</a></li>
                  
                  <li ><a href="../elmah-io-apps-trello/">Trello</a></li>
                  
                  <li ><a href="../integrate-elmah-io-with-zapier/">Zapier</a></li>
                  
                  <li ><a href="../creating-apps-for-elmah-io/">Creating apps for elmah.io</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Uptime Monitoring</a>
                <ul>
                  
                  <li ><a href="../setup-uptime-monitoring/">Set up Uptime Monitoring</a></li>
                  
                  <li ><a href="../missing-server-side-information-on-uptime-errors/">Missing server side information on uptime errors</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Heartbeats</a>
                <ul>
                  
                  <li ><a href="../setup-heartbeats/">Set up Heartbeats</a></li>
                  
                  <li ><a href="../logging-heartbeats-from-asp-net-core/">Logging heartbeats from ASP.NET Core</a></li>
                  
                  <li ><a href="../logging-heartbeats-from-azure-functions/">Logging heartbeats from Azure Functions</a></li>
                  
                  <li ><a href="../logging-heartbeats-from-powershell/">Logging heartbeats from PowerShell</a></li>
                  
                  <li ><a href="../logging-heartbeats-from-curl/">Logging heartbeats from cURL</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Deployment Tracking</a>
                <ul>
                  
                  <li ><a href="../setup-deployment-tracking/">Set up Deployment Tracking</a></li>
                  
                </ul>
              </li>
              
              <li class="li_dropdown">
                <a class="li_parent" href="javascript:;">Everything Else</a>
                <ul>
                  
                  <li ><a href="../managing-organisations-and-users/">Managing Organisations and Users</a></li>
                  
                  <li ><a href="../where-is-my-log-id/">Where is my log ID</a></li>
                  
                  <li ><a href="../where-is-my-api-key/">Where is my API key</a></li>
                  
                  <li ><a href="../where-is-my-invoice-receipt/">Where is my invoice / receipt</a></li>
                  
                  <li ><a href="../how-to-configure-api-key-permissions/">How to configure API key permissions</a></li>
                  
                  <li ><a href="../creating-rules-to-perform-actions-on-messages/">Creating Rules to Perform Actions on Messages</a></li>
                  
                  <li ><a href="../query-messages-using-full-text-search/">Query messages using full-text search</a></li>
                  
                  <li ><a href="../tips-and-tricks-to-stay-below-your-message-limit/">Tips and tricks to stay below your message limit</a></li>
                  
                  <li ><a href="../use-extended-user-details-without-email-as-id/">Use Extended User Details without Email as Id</a></li>
                  
                  <li ><a href="../adding-version-information/">Adding version information</a></li>
                  
                  <li ><a href="../include-filename-and-line-number-in-stacktraces/">Include filename and line number in stack traces</a></li>
                  
                  <li ><a href="../how-prices-are-calculated/">How prices are calculated</a></li>
                  
                  <li ><a href="../export-data-from-elmah-io-to-json/">Export data from elmah.io to JSON</a></li>
                  
                  <li ><a href="../handle-elmah-io-downtime/">Handle elmah.io downtime</a></li>
                  
                  <li ><a href="../using-the-elmah-io-extension-for-visual-studio/">Using the elmah.io extension for Visual Studio</a></li>
                  
                  <li ><a href="../using-the-rest-api/">Using the REST API</a></li>
                  
                  <li ><a href="../email-troubleshooting/">Email troubleshooting</a></li>
                  
                  <li ><a href="../elmah-and-elmah-io-differences/">ELMAH and elmah.io differences</a></li>
                  
                </ul>
              </li>
              
            </ul>
          </div>
        </aside>
        <a id="show-sidebar" href="javascript:;" class="btn btn-light btn-block d-block d-md-none border"><span class="fal fa-bars"></span> <span>Documentation menu</span></a>
        <article class="col main-content">
          <div class="main-content-body">

            <p><a href="https://ci.appveyor.com/project/ThomasArdal/elmah-io-nlog"><img alt="Build status" src="https://ci.appveyor.com/api/projects/status/gdgwwlu1j8yh7esl?svg=true" /></a>
<a href="https://www.nuget.org/packages/elmah.io.nlog"><img alt="NuGet" src="https://img.shields.io/nuget/v/elmah.io.nlog.svg" /></a>
<a href="https://github.com/elmahio/elmah.io.nlog/tree/master/samples"><img alt="Samples" src="https://img.shields.io/badge/samples-2-brightgreen.svg" /></a></p>
<h1 id="logging-to-elmahio-from-nlog">Logging to elmah.io from NLog</h1>
<div class="toc">
<ul>
<li><a href="#logging-to-elmahio-from-nlog">Logging to elmah.io from NLog</a><ul>
<li><a href="#specify-api-key-and-log-id-in-appsettings">Specify API key and log ID in appSettings</a></li>
<li><a href="#setting-application-name">Setting application name</a></li>
<li><a href="#configure-the-elmahio-target-from-code">Configure the elmah.io target from code</a></li>
<li><a href="#logging-custom-properties">Logging custom properties</a></li>
<li><a href="#message-hooks">Message hooks</a><ul>
<li><a href="#decorating-log-messages">Decorating log messages</a></li>
<li><a href="#handle-errors">Handle errors</a></li>
<li><a href="#error-filtering">Error filtering</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>NLog is one of the most popular logging frameworks for .NET. With an active history on almost 10 years, the possibilities with NLog are many and it’s easy to find documentation on how to use it.</p>
<p>To start logging messages from NLog to elmah.io, you need to install the <a href="https://www.nuget.org/packages/Elmah.Io.NLog/">Elmah.Io.NLog</a> NuGet package:</p>
<pre><code class="powershell">Install-Package elmah.io.nlog
</code></pre>

<blockquote>
<p>Please don't use NLog <code>4.6.0</code> since that version contains a bug that causes the elmah.io target to not load correctly. <code>4.5.11</code> or <code>4.6.1</code>.</p>
</blockquote>
<p>To configure the elmah.io target, add the following configuration to your app.config/web.config/nlog.config depending on what kind of project you’ve created:</p>
<pre><code class="xml">&lt;extensions&gt;
  &lt;add assembly=&quot;Elmah.Io.NLog&quot;/&gt;
&lt;/extensions&gt;

&lt;targets&gt;
  &lt;target name=&quot;elmahio&quot; type=&quot;elmah.io&quot; apiKey=&quot;API_KEY&quot; logId=&quot;LOG_ID&quot;/&gt;
&lt;/targets&gt;

&lt;rules&gt;
  &lt;logger name=&quot;*&quot; minlevel=&quot;Info&quot; writeTo=&quot;elmahio&quot; /&gt;
&lt;/rules&gt;
</code></pre>

<p>Replace <code>API_KEY</code> with your API key (<a href="https://docs.elmah.io/where-is-my-api-key/">Where is my API key?</a>) and <code>LOG_ID</code> with the ID of the log you want messages sent to (<a href="https://docs.elmah.io/where-is-my-log-id/">Where is my log ID?</a>).</p>
<p>In the example we specify the level minimum as Info. This tells NLog to log only information, warning, error and fatal messages. You may adjust this, but be aware that your elmah.io log may run full pretty fast, especially if you log thousands and thousands of trace and debug messages.</p>
<p>Log messages to elmah.io, just as with every other target and NLog:</p>
<pre><code class="csharp">log.Warn(&quot;This is a warning message&quot;);
log.Error(new Exception(), &quot;This is an error message&quot;);
</code></pre>

<h2 id="specify-api-key-and-log-id-in-appsettings">Specify API key and log ID in appSettings</h2>
<p>If you are already using elmah.io, you may have your API key and log ID in the <code>appSettings</code> element already. To use these settings from withing the NLog target configuration you can use an NLog layout formatter:</p>
<pre><code class="xml">&lt;targets&gt;
  &lt;target name=&quot;elmahio&quot; type=&quot;elmah.io&quot; apiKey=&quot;${appsetting:item=apiKey}&quot; logId=&quot;${appsetting:item=logId}&quot;/&gt;
&lt;/targets&gt;
</code></pre>

<p>By using the layout <code>${appsetting:item=apiKey}</code> you tell NLog that the value for this attribute is in an <code>appSettings</code> element named <code>elmahKey</code>:</p>
<pre><code class="xml">&lt;appSettings&gt;
  &lt;add key=&quot;apiKey&quot; value=&quot;API_KEY&quot; /&gt;
  &lt;add key=&quot;logId&quot; value=&quot;LOG_ID&quot; /&gt;
&lt;/appSettings&gt;
</code></pre>

<blockquote>
<p>The <code>appSettings</code> layout formatter only works when targeting .NET Full Framework and requires <code>Elmah.Io.NLog</code> version 3.3.x or above and <code>NLog</code> version 4.6.x or above.</p>
</blockquote>
<h2 id="setting-application-name">Setting application name</h2>
<p>The application field on elmah.io can be set globally through NLog config:</p>
<pre><code class="xml">&lt;targets&gt;
  &lt;target name=&quot;elmahio&quot; xsi:type=&quot;elmahio:elmah.io&quot; apiKey=&quot;API_KEY&quot; logId=&quot;LOG_ID&quot; application=&quot;APP_NAME&quot; /&gt;
&lt;/targets&gt;
</code></pre>

<p>Replace <code>APP_NAME</code> with the application you want logged to elmah.io</p>
<h2 id="configure-the-elmahio-target-from-code">Configure the elmah.io target from code</h2>
<p>The elmah.io target can be configured from C# code if you prefer or need to access the built-in events (see more later). The following adds logging to elmah.io:</p>
<pre><code class="csharp">var config = new LoggingConfiguration();
var elmahIoTarget = new ElmahIoTarget();
elmahIoTarget.Name = &quot;elmahio&quot;;
elmahIoTarget.ApiKey = &quot;API_KEY&quot;;
elmahIoTarget.LogId = &quot;LOG_ID&quot;;
config.AddTarget(elmahIoTarget);
config.AddRuleForAllLevels(elmahIoTarget);
LogManager.Configuration = config;
</code></pre>

<p>The example will log all log levels to elmah.io. For more information about how to configure individual log levels, check out the <a href="https://github.com/NLog/NLog/wiki/Configure-from-code">NLog documentation on GitHub</a>.</p>
<h2 id="logging-custom-properties">Logging custom properties</h2>
<p>NLog supports logging custom properties in multiple ways. If you want to include a property (like a version number) to all log messages, you might want to look into the <a href="#decorating-log-messages"><code>OnMessage</code></a> feature on <code>Elmah.Io.NLog</code>.</p>
<p>With custom properties, you can log additional key/value pairs with every log message. The elmah.io appender for NLog, supports <a href="https://docs.elmah.io/logging-custom-data/">custom properties</a> as well. Properties are persisted alongside every log message in elmah.io and searchable if <a href="https://docs.elmah.io/logging-custom-data/#searching-custom-data">named correctly</a>.</p>
<p>One way to log custom properties with NLog and elmah.io, is to use the overload of each logging-method that takes a <code>LogEventInfo</code> object as parameter:</p>
<pre><code class="csharp">var infoMessage = new LogEventInfo(LogLevel.Info, &quot;&quot;, &quot;This is an information message&quot;);
infoMessage.Properties.Add(&quot;Some Property Key&quot;, &quot;Some Property Value&quot;);
log.Info(infoMessage);
</code></pre>

<p>This saves the information message in elmah.io with a custom property with key <code>Some Property Key</code>and value <code>Some Property Value</code>.</p>
<p>As of NLog 4.5, structured logging is supported as well. To log a property as part of the log message, use the new syntax as shown here:</p>
<pre><code class="csharp">log.Warn(&quot;Property named {FirstName}&quot;, &quot;Donald&quot;);
</code></pre>

<p>In the example, NLog will log the message <code>Property named "Donald"</code>, but the key (<code>FirstName</code>) and value (<code>Donald</code>), will also be available in the <em>Data</em> tab inside elmah.io.</p>
<p><code>Elmah.Io.NLog</code> provides a range of reserved property names, that can be used to fill in data in the correct fields on the elmah.io UI. Let's say you want to fill the <code>User</code> field using structured logging only:</p>
<pre><code class="csharp">log.Info(&quot;{Quote} from {User}&quot;, &quot;Hasta la vista, baby&quot;, &quot;T-800&quot;);
</code></pre>

<p>This will fill in the value <code>T-800</code> in the <code>User</code> field, as well as add two key/value pairs (<code>Quote</code> and <code>User</code>) to the <em>Data</em> tab on elmah.io. For a reference of all possible property names, check out the property names on <a href="https://github.com/elmahio/Elmah.Io.Client/blob/master/src/Elmah.Io.Client/Models/CreateMessage.cs">CreateMessage</a>.</p>
<p>NLog also provides a fluent API (available in the <code>NLog.Fluent</code> namespace) that some might find more readable:</p>
<pre><code class="csharp">logger.Info()
      .Message(&quot;I'll be back&quot;)
      .Property(&quot;User&quot;, &quot;T-800&quot;)
      .Write();
</code></pre>

<p>If you want to use the normal logging methods like <code>Info</code> and <code>Error</code>, you can do so in junction with the <code>MappedDiagnosticsLogicalContext</code> class, also provided by NLog:</p>
<pre><code class="csharp">using (MappedDiagnosticsLogicalContext.SetScoped(&quot;User&quot;, &quot;T-800&quot;))
{
   logger.Info(&quot;I'll be back&quot;);
}
</code></pre>

<p>This will create the exact same result as the example above.</p>
<h2 id="message-hooks">Message hooks</h2>
<p><code>Elmah.Io.NLog</code> provide message hooks similar to the integrations with ASP.NET and ASP.NET Core. Similar for all hooks is that the elmah.io NLog target must be <a href="#configure-the-elmahio-target-from-code">configured through C#</a>.</p>
<blockquote>
<p>Message hooks require <code>Elmah.Io.NLog</code> version <code>3.4.53</code> or newer.</p>
</blockquote>
<h3 id="decorating-log-messages">Decorating log messages</h3>
<p>To include additional information on log messages, you can use the OnMessage event when initializing the elmah.io target:</p>
<pre><code class="csharp">var elmahIoTarget = new ElmahIoTarget();
...
elmahIoTarget.OnMessage = msg =&gt;
{
    msg.Version = &quot;1.0.0&quot;;
};
</code></pre>

<p>The example above includes a version number on all errors.</p>
<h3 id="handle-errors">Handle errors</h3>
<p>To handle any errors happening while processing a log message, you can use the OnError event when initializing the elmah.io target:</p>
<pre><code class="csharp">var elmahIoTarget = new ElmahIoTarget();
...
elmahIoTarget.OnError = (msg, err) =&gt;
{
    // Do something here
};
</code></pre>

<p>The example implements a callback if logging to elmah.io fails. How you choose to implement this is entirely up to your application and tech stack.</p>
<h3 id="error-filtering">Error filtering</h3>
<p>To ignore specific errors based on their content, you can use the OnFilter event when initializing the elmah.io target:</p>
<pre><code class="csharp">var elmahIoTarget = new ElmahIoTarget();
...
elmahIoTarget.OnFilter = msg =&gt;
{
    return msg.Title.Contains(&quot;trace&quot;);
};
</code></pre>

<p>The example above ignores any log messages with the word <code>trace</code> in the title.</p>

            <br/>
            <p><small><em>This article was brought to you by the elmah.io team. elmah.io is the best error management system for .NET web applications. We monitor your website, alert you when errors start happening and help you fix errors fast.</em></small></p>
            <p class="text-center">
                <a href="https://app.elmah.io/signup/" class="btn btn-lg btn-primary d-none d-sm-block" style="white-space: normal;">See how we can help you monitor your website for crashes</a>
                <a href="https://app.elmah.io/signup/" class="btn btn-lg btn-primary d-block d-sm-none">Monitor your website</a>
            </p>
          </div>
        </article>
      </div>
    </div>

    <footer>
    	<div id="back-to-top" class="d-block d-sm-none"><span class="far fa-arrow-up"></span></div>
    	<div class="pre-footer">
	    	<div class="container">
	    		<div class="company-logo">
					<img class="img-fluid" src="../assets/img/elmahio.png" alt="elmah.io">
				</div>
				<a href="https://app.elmah.io/signup/" class="btn btn-primary float-right"><span>Sign Up Now</span><span class="info">no credit card required</span></a>
			</div>
	    </div>
    	<div class="links">
    		<div class="container">
    			<div class="row">
    				<div class="col">
    					<h5>Product</h5>
    					<ul class="list-unstyled">
							<li><a href="https://elmah.io/features/">Features</a></li>
							<li><a href="https://elmah.io/pricing/">Pricing</a></li>
						        <li><a href="https://elmah.io/tour/">Tour</a></li>
							<li><a href="https://elmah.io/features/appstore/">App Store</a></li>
						</ul>
    				</div>
    				<div class="col">
    					<h5>Company</h5>
						<ul class="list-unstyled">
							<li><a href="https://elmah.io/about/">About</a></li>
							<li><a href="https://elmah.io/contact/">Contact</a></li>
							<li><a href="https://blog.elmah.io/">Blog</a></li>
							<li><a href="https://docs.elmah.io/">Docs</a></li>
						</ul>
    				</div>
    				<div class="col">
    					<h5>Learn</h5>
						<ul class="list-unstyled">
							<li><a href="https://elmah.io/customer-stories/">Customer Stories</a></li>
							<li><a href="https://elmah.io/for-ctos/">For CEOs and CTOs</a></li>
							<li><a href="https://elmah.io/goodiebag/">Goodie Bag</a></li>
                                                        <li><a href="https://elmah.io/api/">API</a></li>
						</ul>
    				</div>
    				<div class="col">
    					<h5>Guides</h5>
						<ul class="list-unstyled">
							<li><a href="https://elmah.io/devops/">.NET DevOps</a></li>
							<li><a href="https://elmah.io/microservices/">.NET Microservices</a></li>
							<li><a href="https://elmah.io/cloud-logging/">.NET Cloud Logging</a></li>
							<li><a href="https://elmah.io/features/asp-net-core/">ASP.NET Core Error Logging</a></li>
						</ul>
    				</div>
    				<div class="col">
                        <h5>Online Tools</h5>
                        <ul class="list-unstyled">
                            <li><a href="https://elmah.io/tools/configvalidator/">Web.config Validator</a></li>
                            <li><a href="https://elmah.io/tools/stack-trace-formatter/">Stack Trace Formatter</a></li>
                            <li><a href="https://elmah.io/tools/webconfig-transformation-tester/">Web.config Transform Tester</a></li>
                        </ul>
                    </div>
    			</div>
    		</div>
    	</div>
    	<div class="copyright">
    		<div class="container">
    			<div class="row no-gutters">
                    <div class="col-lg-5 col-md-12 order-2 order-lg-1">
                        <div class="text-center text-lg-left">
        					<p>2013 - <script>document.write(new Date().getFullYear());</script> @ elmah.io. All Rights Reserved.</p>
        					<p><a href="https://elmah.io/legal/terms-of-use/">Terms of Use</a> | <a href="https://elmah.io/legal/privacy-policy/">Privacy Policy</a> | <a href="https://elmah.io/legal/refund-policy/">Refund Policy</a></p>
        				</div>
                    </div>
                    <div class="col-lg-2 col-md-12 order-3 order-lg-1">
                        <ul class="list-unstyled social mb-0">
                            <li class="list-inline-item"><a href="https://twitter.com/elmah_io"><i class="fab fa-twitter"></i></a></li>
                            <li class="list-inline-item"><a href="https://facebook.com/elmahdotio"><i class="fab fa-facebook-f"></i></a></li>
                            <li class="list-inline-item"><a href="https://www.linkedin.com/company/elmah-io/"><i class="fab fa-linkedin-in"></i></a></li>
                        </ul>
                    </div>
                    <div class="col-lg-5 col-md-12 order-1 order-lg-2">
                        <div class="footer-badges text-center text-lg-right">
                            <a href="https://elmah.io/security/"><img src="../assets/img/pcicompliant.png" draggable="false" alt="PCI Compliant" /></a>
                            <a href="https://elmah.io/security/"><img src="../assets/img/gdpr.png" draggable="false" alt="GDPR Compliant" /></a>
                            <a href="https://elmah.io/security/"><img src="../assets/img/shieldssl.png" draggable="false" alt="Alpha SSL" /></a>
                        </div>
                    </div>
                </div>
    		</div>
    	</div>
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/gh/elmahio/elmah.io.javascript@3.0.0/dist/elmahio.min.js?apiKey=a789ddece0bd47fe83390b702f5713a9&logId=24c89075-e32a-4a79-9f7e-e78381e0d761" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/highlight.pack.js"></script>
    <script src="../assets/js/fuse.min.js"></script>
    <script src="../assets/js/jquery.fancybox.min.js"></script>
    <script src="../assets/js/clipboard.min.js"></script>
    <script src="../assets/js/main.js"></script>
  </body>
</html>